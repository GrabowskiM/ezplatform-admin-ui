{% extends '@ezdesign/ui/layout.html.twig' %}

{% block navigation %}
{% endblock %}

{% block content %}
<div class="ez-content-preview comparison-preview">
    <div class="one-side-preview">
        {% for group in field_definitions_by_group %}
            {% if group.fieldDefinitions|length > 0 %}
                <section class="ez-fieldgroup container">
                    <h3 class="ez-fieldgroup__name">{{ group.name|capitalize }}</h3>
                    {% for field_definition in group.fieldDefinitions %}
                        {% block field_a %}
                            <div class="ez-content-field">
                                <p class="ez-content-field-name">{{ field_definition.name }}:</p>
                                <div class="ez-content-field-value">
                                    {% if ez_field_is_empty(content_a, field_definition.identifier) %}
                                        <em>{{ 'fieldview.field.empty'|trans({}, 'fieldview')|desc('This field is empty') }}</em>
                                    {% else %}
                                        {{ ez_render_field(content_a, field_definition.identifier, {
                                            'template': '@ezdesign/ui/field_type/preview/content_fields.html.twig'
                                        }) }}
                                    {% endif %}
                                </div>
                            </div>
                        {% endblock %}
                    {% endfor %}
                </section>
            {% endif %}
        {% endfor %}
    </div>
    <div class="one-side-preview">
        {% if content_b is not null %}
            {% for group in field_definitions_by_group %}
                {% if group.fieldDefinitions|length > 0 %}
                    <section class="ez-fieldgroup container">
                        <h3 class="ez-fieldgroup__name">{{ group.name|capitalize }}</h3>
                        {% for field_definition in group.fieldDefinitions %}
                            {% block field_b %}
                                <div class="ez-content-field">
                                    <p class="ez-content-field-name">{{ field_definition.name }}:</p>
                                    <div class="ez-content-field-value">
                                        {% if ez_field_is_empty(content_b, field_definition.identifier) %}
                                            <em>{{ 'fieldview.field.empty'|trans({}, 'fieldview')|desc('This field is empty') }}</em>
                                        {% else %}
                                            {{ ez_render_field(content_b, field_definition.identifier, {
                                                'template': '@ezdesign/ui/field_type/preview/content_fields.html.twig'
                                            }) }}
                                        {% endif %}
                                    </div>
                                </div>
                            {% endblock %}
                        {% endfor %}
                    </section>
                {% endif %}
            {% endfor %}
        {% endif %}
</div>
</div>
{% endblock %}
